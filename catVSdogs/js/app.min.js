(()=>{"use strict";window.addEventListener("load",(function(){const t=document.querySelector("#game"),e=document.querySelector("#hero"),l=document.querySelector("#mainHeroes");let n,o=0,r=5,s=0,a=!1,c=!1,i=!1,p="right",f=Math.floor(Number.parseInt(getComputedStyle(e).left)/32),m=Math.floor(Number.parseInt(getComputedStyle(e).bottom)/32),u=!1,y=[];function d(){"right"===p?(o<=-32?o=0:o-=32,l.style.transform="scale(1, 1)"):(o>=-160?o=-192:o+=32,l.style.transform="scale(-1, 1)"),l.style.top="-32px",l.style.left=o+"px"}function g(e,l=1){const n=document.createElement("img");n.src="img/tiles/main.svg",n.style.cssText=`\n            position: absolute;\n            left: ${32*e}px;\n            bottom: ${32*l}px;\n            width: 32px;\n            height: 32px;\n        `,t.appendChild(n),y.push([e,l])}function h(e){g(e);const l=document.createElement("img");l.src="img/tiles/foundation.svg",l.style.cssText=`\n            position: absolute;\n            left: ${32*e}px;\n            bottom: 0;\n            width: 32px;\n            height: 32px;\n        `,t.appendChild(l)}function x(){f=Math.floor(Number.parseInt(getComputedStyle(e).left)/32),m=Math.floor(Number.parseInt(getComputedStyle(e).bottom)/32),u=!0;for(let t=0;t<y.length;t++)if(y[t][0]===f&&y[t][1]+1===m){u=!1;break}}document.addEventListener("keydown",(t=>{const f=t.code;if("KeyD"!==f&&"ArrowRight"!==f||(a&&(clearInterval(n),n=null,a=!1),n||(n=setInterval((()=>{o<=-192?o=0:o-=32,!(r>=90)&&(r+=1),e.style.left=r+"%",l.style.top="0px",l.style.transform="scale(1, 1)",l.style.left=o+"px",p="right",x(),i=!!u}),50))),"KeyA"!==f&&"ArrowLeft"!==f||(a&&(clearInterval(n),n=null,a=!1),n||(n=setInterval((()=>{o>=0?o=-192:o+=32,!(r<=5)&&(r-=1),e.style.left=r+"%",l.style.top="0px",l.style.transform="scale(-1, 1)",l.style.left=o+"px",p="left",x(),i=!!u}),50))),"KeyF"===f&&(a&&(clearInterval(n),n=null,a=!1),!n)){let t=0;n=setInterval((()=>{t++,console.log(t),"right"===p?(o<=-32?o=0:o-=32,l.style.transform="scale(1, 1)"):(o>=-160?o=-192:o+=32,l.style.transform="scale(-1, 1)"),l.style.top="-0px",l.style.left=o+"px",c=!0,3==t&&(clearInterval(n),n=null,c=!1)}),200)}"KeyW"!==f&&"Space"!==f||(r+=5,s+=386,e.style.left="right"===p?r+"%":"-"+r+"%",e.style.bottom=s+"px",i=!!u)})),document.addEventListener("keyup",(t=>{clearInterval(n),a=!0,c||(n=setInterval((()=>{d()}),100))})),function(){n=setInterval((()=>{d()}),100),a=!0;for(let t=0;t<100;t++)t>10&&t<16||h(t);!function(t,e,l){for(let t=0;t<15;t++)g(10+t,10)}()}()}))})();