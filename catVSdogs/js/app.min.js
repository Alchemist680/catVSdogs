(()=>{"use strict";window.addEventListener("load",(function(){let t,e="default";document.addEventListener("click",(function(s){const i=s.target;if(i.closest("[data-close-for-custom-popup]")){const t=i.closest("[data-custom-popup]");if(t){t.classList.remove("open"),document.body.style.overflow="auto",document.body.style.paddingRight=0;const e=document.querySelector("header");e&&(e.style.paddingRight=0)}}if(i.closest("[data-button-for-open-custom-popup]")){t&&"pause"===e&&(t.startTimer(),e="default");const o=i.closest("[data-button-for-open-custom-popup]").dataset.buttonForOpenCustomPopup,n=document.querySelector(`[data-custom-popup="${o}"]`);if(n){n.classList.add("open");const t=window.innerWidth-document.body.offsetWidth+"px";document.body.style.paddingRight=t,document.body.style.overflow="hidden";const e=document.querySelector("header");e&&(e.style.paddingRight=t),s.preventDefault()}}else if(!i.closest("[data-custom-popup].open [data-custom-popup-content]")){t&&"pause"===e&&(t.startTimer(),e="default");const s=document.querySelector("[data-custom-popup].open");if(s){s.classList.remove("open"),document.body.style.overflow="auto",document.body.style.paddingRight=0;const t=document.querySelector("header");t&&(t.style.paddingRight=0)}}if(i.closest("#settings")){const i=e,o=document.querySelector(`[data-custom-popup="${i}"]`);if(o){t&&"default"===e&&(t.stopTimer(),e="pause",o.querySelector(".timeGame").innerText=t.getTime()),o.classList.add("open");const i=window.innerWidth-document.body.offsetWidth+"px";document.body.style.paddingRight=i,document.body.style.overflow="hidden";const n=document.querySelector("header");n&&(n.style.paddingRight=i),s.preventDefault()}}}));const s=document.querySelector("#game");let i,o=!0,n=!1;const a=new class{img;x;src="img/icons/heart.svg";block;blockSize=32;maxPosXSprite=4;generateHearts(t,e){this.block=document.createElement("div"),this.block.classList.add("active"),this.block.id="heart",this.block.style.cssText=`\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n                position: absolute;\n                overflow: hidden;\n                top: ${32*e}px;\n                left: ${32*t}px;\n            `,this.img=document.createElement("img"),this.img.src=this.src,this.img.style.cssText=`\n                width: ${this.blockSize*this.maxPosXSprite}px;\n                height: ${this.block}px;\n                position: absolute;\n                top: 0px;\n                left: 0px;\n            `,s.appendChild(this.block),this.block.appendChild(this.img)}},l=document.querySelector("#hero"),h=document.querySelector("#mainHeroes");let r,c=[],p=8,m=p,d=0,u=0;const f=96;let y,g,x,b=7,S="stand",k="right",v=!0,X=Math.ceil(Number.parseInt(getComputedStyle(l).left)/32),P=Math.ceil(Number.parseInt(getComputedStyle(l).bottom)/32),T=!1,w=!1,A=!1,I=[],z=[],M=document.createElement("div");function $(t){clearInterval(y),clearInterval(g),y=null,g=null,v=!0,S=t}function C(){M.style.left=Number.parseInt(M.style.left)-8+"px",I.map((t=>{t[0]=t[0]-1/4})),z.map((t=>{t.moveRight()}))}function E(){M.style.left=Number.parseInt(M.style.left)+8+"px",I.map((t=>{t[0]=t[0]+1/4})),z.map((t=>{t.moveLeft()}))}M.style.cssText="\n        position: absolute;\n        left: 0px;\n        top: 0px;\n        width: 100%;\n        height: 100%;\n    ",s.appendChild(M),document.addEventListener("keydown",(function(s){const i=s.code;if(o&&(!1===n&&(n=!0,t=new j),"KeyD"!==i&&"ArrowRight"!==i||w||"rightWalk"!=S&&"fall"!=S&&"hurt"!=S&&"death"!=S&&($("rightWalk"),h.style.top="0px",h.style.transform="scale(1, 1)",k="right",y=setInterval((()=>{d<=-f*(b-1)?d=0:d-=f,h.style.left=d+"px"}),60),g=setInterval((()=>{H()&&(C(),W(),T&&$("fall"),w&&$("stand"))}),17)),"KeyA"!==i&&"ArrowLeft"!==i||A||"leftWalk"!=S&&"fall"!=S&&"hurt"!=S&&"death"!=S&&($("leftWalk"),h.style.top="0px",h.style.transform="scale(-1, 1)",k="left",y=setInterval((()=>{d>=0?d=-f*(b-1):d+=f,h.style.left=d+"px"}),60),g=setInterval((()=>{H()&&!A&&Number.parseInt(M.style.left)<0&&(E(),W(),T&&$("fall"))}),17)),"KeyF"===i&&"jump"!=S&&"fall"!=S&&"hit"!=S&&"hurt"!=S&&"death"!=S&&($("hit"),h.style.top=3*-f+"px","right"===k?(h.style.transform="scale(1, 1)",h.style.left="0px",d=0,y=setInterval((()=>{d<=5*-f?$("stand"):(d-=f,h.style.left=d+"px")}),150),setTimeout((()=>{r=new L}),600)):(h.style.transform="scale(-1, 1)",h.style.left=-(b*f-6*f)+"px",d=-(b*f-6*f),y=setInterval((()=>{d<=-(b-1)*f?$("stand"):(d-=f,h.style.left=d+"px")}),150),setTimeout((()=>{r=new L}),600))),("KeyW"===i||"Space"===i||"ArrowUp"===i&&"death"!=S)&&"jump"!=S&&"fall"!=S&&"hurt"!=S&&($("jump"),function(){u=32*P;const t=u;h.style.top=2*-f+"px","right"===k?(h.style.left="0px",d=0,h.style.transform="scale(1, 1)"):(h.style.left=-f*b+"px",d=-f*(b-1),h.style.transform="scale(-1, 1)"),g=setInterval((()=>{"right"===k?d<=3*-f?d=0:d-=f:d>=-(b-3*f)?d=-f*b:d+=f,h.style.left=d+"px"}),85),y=setInterval((()=>{u+=8,function(){if(q(),"right"===k){for(let t=0;t<I.length;t++)if(Math.ceil(I[t][0])===X+2&&Math.ceil(I[t][1])+1===P+2)return!1}else for(let t=0;t<I.length;t++)if(Math.ceil(I[t][0])===X+1&&Math.ceil(I[t][1])+1===P+2)return!1;return!0}()||$("fall"),u-t>150?(W(),T?$("fall"):(l.style.bottom=32*P+"px",$("stand"))):l.style.bottom=u+"px","right"===k?C():Number.parseInt(M.style.left)<0&&E()}),17)}())),"Escape"===i){const i=document.querySelector("[data-custom-popup].open");if(t&&"pause"===e&&(e="default",t.startTimer()),i){i.classList.remove("open"),document.body.style.overflow="auto",document.body.style.paddingRight=0;const t=document.querySelector("header");t&&(t.style.paddingRight=0)}else{const i=e,o=document.querySelector(`[data-custom-popup="${i}"]`);if(o){t&&"default"===e&&(t.stopTimer(),e="pause",o.querySelector(".timeGame").innerText=t.getTime()),o.classList.add("open");const i=window.innerWidth-document.body.offsetWidth+"px";document.body.style.paddingRight=i,document.body.style.overflow="hidden";const n=document.querySelector("header");n&&(n.style.paddingRight=i),s.preventDefault()}}}})),document.addEventListener("keyup",(t=>{"fall"!=S&&"jump"!=S&&"hit"!=S&&"hurt"!=S&&"death"!=S&&$("stand")}));class L{x=X+1;fishXPos=32*this.x;flightDistance=300;y=P;animation;fish;blockSize=75;constructor(){this.createFish(),this.animateFish()}createFish(){this.fish=document.createElement("div");const t=document.createElement("img");this.fish.style.cssText=`\n                position: absolute;\n                left: ${32*this.x}px;\n                bottom: ${32*this.y}px;\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n                overflow: hidden;\n            `,s.appendChild(this.fish),t.src="img/fish.png",t.style.cssText=`\n                position: absolute;\n                left: 0;\n                bottom: 0;\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n            `,"left"===k&&(t.style.transform="scale(-1, 1)"),this.fish.appendChild(t)}animateFish(){const t=this.fishXPos;this.animation="right"===k?setInterval((()=>{this.fishXPos+=12,this.fish.style.left=this.fishXPos+"px",(this.fishXPos>t+this.flightDistance||R(this.fishXPos))&&(clearInterval(this.animation),this.fish.parentNode.removeChild(this.fish))}),17):setInterval((()=>{this.fishXPos-=12,this.fish.style.left=this.fishXPos+"px",(this.fishXPos<t-this.flightDistance||R(this.fishXPos))&&(clearInterval(this.animation),this.fish.parentNode.removeChild(this.fish))}),17)}}function N(t,e=1){const s=document.createElement("img");s.src="img/tiles/main.jpeg",s.style.cssText=`\n            position: absolute;\n            left: ${32*t}px;\n            bottom: ${32*e}px;\n            width: 32px;\n            height: 32px;\n        `,M.appendChild(s),I.push([t,e])}function D(t){N(t);const e=document.createElement("img");e.src="img/tiles/foundation.jpeg",e.style.cssText=`\n            position: absolute;\n            left: ${32*t}px;\n            bottom: 0;\n            width: 32px;\n            height: 32px;\n        `,M.appendChild(e)}function q(){P=Math.ceil(Number.parseInt(getComputedStyle(l).bottom)/32)}function W(){q(),T=!0;for(let t=0;t<I.length;t++){if(P<=-3&&(U("loss"),e="loss",$("fdsf")),Math.ceil(I[t][0])===X&&Math.ceil(I[t][1])+1===P){T=!1;break}if(Math.ceil(I[t][0])===X+3&&Math.ceil(I[t][1])+1===P){T=!1;break}}}function H(){if(q(),"right"===k){for(let t=0;t<I.length;t++)if(Math.ceil(I[t][0])===X+3&&Math.ceil(I[t][1])+1===P+1)return!1}else for(let t=0;t<I.length;t++)if(Math.ceil(I[t][0])===X&&Math.ceil(I[t][1])+1===P+1)return!1;return!0}function R(t){q(),t=Math.ceil(t/32);let e=!1;return c.forEach((s=>{if(s.state!=s.DEATH&&Math.ceil(s.posX)===t&&Math.ceil(s.posY)===P)return s.lives<=1?s.changeAnimate(s.DEATH):(s.changeAnimate(s.HURT),s.showHurt(),s.lives--),e=!0,!0})),!!e}class K{STAND="stand";ATTACK="attack";DEATH="death";WALK="walk";HURT="hurt";posX;posY;startX;travelInterval=6;direction=.1;img;block;blockSize=96;timer;animation;animationSome;state="stand";attack=!1;animateWasChanged=!0;isHurt=!1;SpriteMaxPosX=6;SpriteMaxPosY=5;SpritePosX=0;SpritePosY=0;NumPosStand=2;NumPosHurt=1;NumPosWalk=5;NumPosAttack=3;NUmPosDeath=4;lives=2;constructor(t,e){this.posX=t,this.posY=e,this.startX=this.posX,this.createEnimy(),z.push(this),this.lifeCycle(),this.changeAnimate(this.WALK),this.updatePositionX()}createEnimy(){this.block=document.createElement("div"),this.block.style.cssText=`\n                position: absolute;\n                left: ${32*this.posX}px;\n                bottom: ${32*this.posY}px;\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n                overflow: hidden;\n            `,s.appendChild(this.block),this.img=document.createElement("img"),this.img.src="img/characters/enemies/StandDog.svg",this.img.style.cssText=`\n                position: absolute;\n                left: 0;\n                bottom: 0;\n                width: ${this.blockSize*this.SpriteMaxPosX}px;\n                height: ${this.blockSize*this.SpriteMaxPosY}px;\n            `,this.block.appendChild(this.img)}lifeCycle(){this.timer=setInterval((()=>{if(this.checkCollide(),this.animateWasChanged)switch(this.animateWasChanged=!1,this.state){case this.DEATH:this.deathAnimate();break;case this.HURT:this.hurtAnimate();break;case this.WALK:this.walkAnimate();break;case this.STAND:this.standAnimate();break;case this.ATTACK:this.attackAnimate();break;case this.DEATH:this.deathAnimate()}}),17)}updatePositionX(){setInterval((()=>{this.block.style.left=32*this.posX+"px"}))}checkCollide(){P==this.posY?X==Math.floor(this.posX)?(w=!0,A=!1,("hit"!==S||this.state==this.HURT||this.isHurt)&&(this.attack||this.changeAnimate(this.ATTACK))):X==Math.floor(this.posX+2)||X==Math.floor(this.posX+1)?(A=!0,w=!1,("hit"!==S||this.state==this.HURT||this.isHurt)&&(this.attack||this.changeAnimate(this.ATTACK))):this.state===this.ATTACK&&(this.changeAnimate(this.WALK),this.attack=!1,A=!1,w=!1):this.state===this.ATTACK&&(this.changeAnimate(this.WALK),this.attack=!1,A=!1,w=!1)}changeAnimate(t){clearInterval(this.animation),this.animation=null,clearInterval(this.animationSome),this.animationSome=null,this.state=t,this.animateWasChanged=!0}standAnimate(){this.img.style.top="0px",this.img.style.left="0px",this.SpritePosX=1,this.animation=setInterval((()=>{this.direction===Math.abs(this.direction)?(this.img.style.transform="scale(-1, 1)",-this.SpritePosX*this.blockSize>=-(this.SpriteMaxPosX-1-this.NumPosStand)*this.blockSize?this.SpritePosX=this.SpriteMaxPosX:(this.SpritePosX--,this.img.style.left=-this.SpritePosX*this.blockSize+"px")):(this.img.style.transform="scale(1, 1)",this.SpritePosX===this.NumPosStand?this.SpritePosX=0:this.SpritePosX++,this.img.style.left=-this.SpritePosX*this.blockSize+"px")}),100)}walkAnimate(){this.img.style.top=4*-this.blockSize+"px",this.img.style.left="0px",this.SpritePosX=1,this.animationSome=setInterval((()=>{this.posX>this.startX+this.travelInterval?(this.direction*=-1,this.img.style.transform="scale(1, 1)"):this.posX<=this.startX&&(this.direction=Math.abs(this.direction),this.img.style.transform="scale(-1, 1)"),this.posX+=this.direction,this.block.style.left=32*this.posX+"px"}),17),this.animation=setInterval((()=>{this.img.style.left=-this.SpritePosX*this.blockSize+"px",this.SpritePosX===this.NumPosWalk?this.SpritePosX=0:this.SpritePosX++}),100)}attackAnimate(){this.attack=!0,this.img.style.top=-2*this.blockSize+"px",this.img.style.left="0px",this.SpritePosX=0,this.animation=setInterval((()=>{this.direction===Math.abs(this.direction)?(this.img.style.transform="scale(-1, 1)",-this.SpritePosX*this.blockSize>=-(this.SpriteMaxPosX-1-this.NumPosAttack)*this.blockSize?(this.SpritePosX=this.SpriteMaxPosX,"jump"!=S&&"fall"!=S&&($("hurt"),p<=1&&this.changeAnimate(this.STAND))):(this.SpritePosX--,this.img.style.left=-this.SpritePosX*this.blockSize+"px")):(this.img.style.transform="scale(1, 1)",this.SpritePosX>=this.NumPosAttack?(this.SpritePosX=0,"jump"!=S&&"fall"!=S&&($("hurt"),p<=1&&this.changeAnimate(this.STAND))):(this.SpritePosX++,this.img.style.left=-this.SpritePosX*this.blockSize+"px"))}),150)}deathAnimate(){this.img.style.top=-1*this.blockSize+"px",this.direction===Math.abs(this.direction)?(this.img.style.transform="scale(-1, 1)",this.img.style.left=-(this.SpriteMaxPosX-this.NUmPosDeath*this.blockSize)+"px",this.posXSprite=this.SpriteMaxPosX+2-this.NUmPosDeath,this.animation=setInterval((()=>{this.posXSprite<2?clearInterval(this.animation):(this.img.style.left=-this.posXSprite*this.blockSize+"px",this.posXSprite--)}),100)):(this.img.style.transform="scale(1, 1)",this.img.style.left="0px",this.posXSprite=0,this.animation=setInterval((()=>{this.posXSprite>this.NUmPosDeath?clearInterval(this.animation):(this.img.style.left=-this.posXSprite*this.blockSize+"px",this.posXSprite++)}),100)),clearInterval(this.timer),A=!1,w=!1}hurtAnimate(){this.img.style.top=-3*this.blockSize+"px",this.direction===Math.abs(this.direction)?(this.img.style.transform="scale(-1, 1)",this.img.style.left=-(this.SpriteMaxPosX-this.NumPosHurt)*this.blockSize+"px"):(this.img.style.transform="scale(1, 1)",this.img.style.left=-this.NumPosHurt*this.blockSize+"px"),setTimeout((()=>{this.isHurt=!1,this.lives<=0?this.changeAnimate(this.DEATH):this.changeAnimate(this.ATTACK)}),300)}showHurt(){const t=document.createElement("p");t.innerText="-1",t.style.cssText=`\n                color: red;\n                font-weight: 700;\n                font-size: 30px;\n                text-shadow: 1px 1px 2px #000;\n                position: absolute;\n                animation: showHurt 1s ease;\n                left: ${Number.parseInt(this.block.style.left+50)}px;\n                bottom: ${Number.parseInt(this.block.style.bottom+32)}px;\n            `,s.appendChild(t),setTimeout((()=>{t.parentNode.removeChild(t)}),1e3)}moveRight(){this.startX-=1/4,this.posX-=1/4}moveLeft(){this.startX+=1/4,this.posX+=1/4}}class j{seconds=0;minutes=0;elementMinites=document.querySelector("#minutes");elementSeconds=document.querySelector("#seconds");ticking;constructor(){this.startTimer()}stopTimer(){clearInterval(this.ticking)}startTimer(){clearInterval(this.ticking),this.ticking=setInterval((()=>{this.seconds++,60===this.seconds&&(this.seconds=0,this.minutes++),this.minutes<10?this.elementMinites.innerText="0"+this.minutes:this.elementMinites.innerText=this.minutes,this.seconds<10?this.elementSeconds.innerText="0"+this.seconds:this.elementSeconds.innerText=this.seconds}),1e3)}getTime(){let t,e;return e=this.minutes<10?"0"+this.minutes:this.minutes,t=this.seconds<10?"0"+this.seconds:this.seconds,e+":"+t}}class Y{posX;posY;block;img;imgSrc="img/VictoryLodge.png";spritePosX=0;blockSize=250;spriteMaxPosX=7;timeInterval=100;animation;winPosX;constructor(t,e){this.posX=t,this.posY=e,this.winPosX=Math.floor(this.blockSize/2/32+this.posX),this.create(),this.animateStand()}checkWin(){let t=setInterval((()=>{Math.ceil(Number.parseInt(getComputedStyle(M).left)/32+this.winPosX-X/2)===X&&this.posY===P&&(U("win"),e="win",clearInterval(t))}),50)}create(){this.block=document.createElement("div"),this.block.style.cssText=`\n                position: absolute;\n                bottom: ${32*this.posY}px;\n                left: ${32*this.posX}px;\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n                overflow: hidden;\n            `,this.img=document.createElement("img"),this.img.src=this.imgSrc,this.img.style.cssText=`\n                position: absolute;\n                top: 0px;\n                left: ${this.spritePosX*this.blockSize}px;\n                width: ${this.blockSize*this.spriteMaxPosX}px;\n                height: ${this.blockSize}px;\n                overflow: hidden;\n            `,this.block.appendChild(this.img),M.appendChild(this.block)}animateWin(){this.spritePosX=0,clearInterval(this.animation),this.animation=setInterval((()=>{this.spritePosX++,this.spritePosX===this.spriteMaxPosX&&(this.spritePosX=0),this.img.style.left=-this.spritePosX*this.blockSize+"px"}),this.timeInterval)}animateStand(){this.spritePosX=0,this.animation=setInterval((()=>{this.spritePosX++,3===this.spritePosX&&(this.spritePosX=0),this.img.style.left=-this.spritePosX*this.blockSize+"px"}),this.timeInterval)}}function U(e){if(o=!1,$("stand"),t.stopTimer(),"win"===e){i.animateWin(),document.querySelector(".timeGame").innerText=t.getTime(),setTimeout((()=>{document.querySelector("[data-custom-popup='win']").classList.add("open")}),i.timeInterval*(i.spriteMaxPosX-1)*2);const e=p/m;let s;s=e<=.33?1:e<=.66?2:3;const o=document.querySelector("#stars");for(let t=0;t<s;t++){const t=document.createElement("img");t.src="img/icons/star.png",t.alt="star",o.appendChild(t)}}else document.querySelector("[data-custom-popup='loss']").classList.add("open")}class O{nameDecor;src="img/decors/";x;y;blockSize;constructor(t,e,s){this.nameDecor=t,this.x=e,this.y=s,this.definitionOfDecoration(),this.createDecor()}definitionOfDecoration(){switch(this.nameDecor){case"tree":this.blockSize=100,this.src+="tree.png";break;case"fountain":this.blockSize=70,this.src+="fountain.png"}}createDecor(){const t=document.createElement("div"),e=document.createElement("img");t.style.cssText=`\n                position: absolute;\n                left: ${32*this.x}px;\n                bottom: ${32*this.y}px;\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n                overflow: hidden;\n            `,M.appendChild(t),e.src=this.src,e.style.cssText=`\n                position: absolute;\n                left: 0;\n                bottom: 0;\n                width: ${this.blockSize}px;\n                height: ${this.blockSize}px;\n            `,t.appendChild(e)}}const F={1:{lives:4,mapLenght:50,platforms:{1:{x:10,y:6,length:10}},decors:{1:{name:"tree",x:10,y:10},2:{name:"fountain",x:10,y:10}},enemies:{1:{x:10,y:10},2:{x:10,y:10}},victoryLodge:{x:10,y:2},abysses:{2:{x1:25,x2:30}}},2:{lives:4,mapLenght:50,platforms:{1:{x:10,y:6,length:10}},decors:{1:{name:"tree",x:10,y:10},2:{name:"fountain",x:10,y:10}},enemies:{1:{x:10,y:10},2:{x:10,y:10}},victoryLodge:{x:10,y:2},abysses:{2:{x1:25,x2:30}}}};x=setInterval((()=>{v&&(v=!1,"fall"===S?(h.style.top=-2*f+"px","right"===k?(d=-2*f,h.style.transform="scale(1, 1)"):(d=-3*f,h.style.transform="scale(-1, 1)"),y=setInterval((()=>{u-=8,l.style.bottom=u+"px",W(),T||(l.style.bottom=32*P+"px",$("stand"))}),17),h.style.left=d+"px"):"stand"===S?y=setInterval((()=>{"right"===k?(d<=-f?d=0:d-=f,h.style.transform="scale(1, 1)"):(d>=-((b-1)*f-f)?d=-(b-1)*f:d+=f,h.style.transform="scale(-1, 1)"),h.style.top="-"+f+"px",h.style.left=d+"px"}),100):"hurt"===S?(h.style.top=4*-f+"px",h.style.left="right"===k?"0px":-(b-1)*f+"px",function(){const t=document.querySelectorAll("#heart.active");if(t.length){const e=t[t.length-1];e.classList.remove("active");const s=e.querySelector("img");let i=0;const o=setInterval((()=>{i<=3?(s.style.left=32*-i+"px",i++):clearInterval(o)}),100)}}(),p--,setTimeout((()=>{$(p<=0?"death":"stand")}),100)):"death"===S&&(h.style.top=5*-f+"px","right"===k?(h.style.transform="scale(1, 1)",h.style.left="0px",d=0,y=setInterval((()=>{d<=4*-f?($("dsfsf"),U("loss"),e="loss"):(d-=f,h.style.left=d+"px")}),150)):(h.style.transform="scale(-1, 1)",h.style.left=-(b*f-4*f)+"px",d=-(b*f-4*f),y=setInterval((()=>{d>=-(b-5)*f?($("dsfsf"),U("loss"),e="loss"):(d+=f,h.style.left=d+"px")}),150))))}),17),new class{constructor(){const t=new URLSearchParams(window.location.search).get("level");if(t&&t in F){const e=F[t];p=e.lives,m=p;for(let t=.5;t<p+.5;t++)a.generateHearts(t,.5);Object.values(e.platforms).forEach((t=>{!function(t,e,s){for(let i=0;i<s;i++)N(t+i,e)}(t.x,t.y,t.length)}));let s=!1;for(let t=0;t<e.mapLenght;t++)s=!1,Object.values(e.abysses).forEach((e=>{t>e.x1&&t<e.x2&&(s=!0)})),s||D(t);Object.values(e.decors).forEach((t=>{new O(t.name,t.x,t.y)})),Object.values(e.enemies).forEach((t=>{c.push(new K(t.x,t.y))})),i=new Y(e.victoryLodge.x,e.victoryLodge.y),i.checkWin()}else document.querySelector("[data-custom-popup='404']").classList.add("open"),e="404",document.querySelector(".wrapper").classList.add("error")}}}))})();